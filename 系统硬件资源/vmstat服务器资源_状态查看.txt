
# vmstat 2			每2秒采集数据，一直采集，直到结束程序
# vmstat 2 5  		表示每隔2秒一次服务器状态，一共采集5次，若不指定采集次数，默认为无限次
# vmstat -a 2 5		显示活跃和非活跃内存时，所显示的内容增加inact和active
# vmstat -s			查看内存使用的详细信息，信息的分别来自于/proc/meminfo,/proc/stat和/proc/vmstat
# vmstat -d			查看磁盘的读/写， 信息主要来自于/proc/diskstats
# vmstat -f			查看系统已经fork了多少次，数据是从/proc/stat中的processes取得

内存是影响 Linux 性能的主要因素之一，内存资源的充足与否直接影响应用系统的使用性能。
free 命令：监控 Linux 内存使用状况。
空闲内存是 free+buffers+cached=155MB
一般来说如果空闲内存 / 物理内存 >70% ，内存性能优；如果小于 20% ，则性能差，需要添加内存。

vmstat是Virtual Meomory Statistics（虚拟内存统计）的缩写，可对操作系统的虚拟内存、进程、CPU活动进行监控。他是对系统的整体情况进行统计，不足之处是无法对某个进程进行深入分析。
vmstat 工具提供了一种低开销的系统性能观察方式。因为 vmstat 本身就是低开销工具，在非常高负荷的服务器上，你需要查看并监控系统的健康情况,在控制窗口还是能够使用vmstat 输出结果。
在学习vmstat命令前，我们先了解一下Linux系统中关于物理内存和虚拟内存相关信息。

如果 si 和 so 数值很大的话，可能是出现系统资源紧缺。
Procs（进程）：
r: 运行队列中进程数量
b: 等待IO的进程数量
Memory（内存）：
swpd: 使用虚拟内存大小
free: 可用内存大小
buff: 用作缓冲的内存大小
cache: 用作缓存的内存大小
Swap：
si: 每秒从交换区写到内存的大小
so: 每秒写入交换区的内存大小
IO：（现在的Linux版本块的大小为1024bytes）
bi: 每秒读取的块数
bo: 每秒写入的块数
系统：
in: 每秒中断数，包括时钟中断。
cs: 每秒上下文切换数。
CPU（以百分比表示）：
us: 用户进程执行时间(user time)
sy: 系统进程执行时间(system time)
id: 空闲时间(包括IO等待时间),中央处理器的空闲时间 。以百分比表示。
wa: 等待IO时间

备注： 如果 r经常大于 4 ，且id经常少于40，表示cpu的负荷很重。如果pi，po 长期不等于0，表示内存不足。如果disk 经常不等于0， 且在 b中的队列 大于3， 表示 io性能不好。
Linux在具有高稳定性、可靠性的同时，具有很好的可伸缩性和扩展性，能够针对不同的应用和硬件环境调整，优化出满足当前应用需要的最佳性能。

-a：显示活跃和非活跃内存
-f：显示从系统启动至今的fork数量 。
-m：显示slabinfo
-n：只在开始时显示一次各字段名称。
-s：显示内存相关统计信息及多种系统活动数量。
delay：刷新时间间隔。如果不指定，只显示一条结果。
count：刷新次数。如果不指定刷新次数，但指定了刷新时间间隔，这时刷新次数为无穷。
-d：显示磁盘相关统计信息。
-p：显示指定磁盘分区统计信息
-S：使用指定单位显示。参数有 k 、K 、m 、M ，分别代表1000、1024、1000000、1048576字节（byte）。默认单位为K（1024 bytes）
-V：显示vmstat版本信息。




